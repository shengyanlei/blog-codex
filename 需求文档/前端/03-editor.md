# 03. 编辑器模块 (Editor)

## 1. 功能概述
提供所见即所得或分栏预览的 Markdown 编辑体验，支持媒体上传和文章发布设置。

## 2. 页面需求

### 2.1 编辑器主界面
- **顶部工具栏**:
  - 常用格式 (加粗, 斜体, 引用, 代码, 链接, 图片)
  - 撤销 / 重做
  - 状态指示 (已保存 / 保存中 / 未保存)
  - 发布按钮 / 设置按钮
- **编辑区域**:
  - 左侧: Markdown 源码输入 (Monaco Editor 或 CodeMirror)
  - 右侧: 实时预览 (同步滚动)
  - 支持全屏切换 / 纯预览模式 / 纯编辑模式

### 2.2 发布设置抽屉 (Drawer/Modal)
- **基础信息**:
  - 标题设置
  - URL Slug 自定义
  - 摘要 (自动截取或手动填写)
- **分类与标签**:
  - 分类选择 (单选/多选)
  - 标签输入 (支持创建新标签)
- **封面图**:
  - 上传 / 从媒体库选择
- **发布选项**:
  - 立即发布 / 定时发布
  - 开启评论 (Switch)
  - 置顶 (Switch)

## 3. 逻辑需求

### 3.1 自动保存
- 监听内容变化，防抖 (Debounce 1s-3s) 后自动提交到草稿接口
- 本地存储 (localStorage) 双重备份，防止断网丢失

### 3.2 媒体上传
- 支持拖拽图片到编辑器
- 支持粘贴剪贴板图片
- 上传流程: 
  1. 获取上传凭证 (Presigned URL)
  2. 直传云存储 (S3/OSS)
  3. 插入 Markdown 图片语法 `![alt](url)`

### 3.3 快捷键
- `Ctrl + S`: 手动保存
- `Ctrl + B`: 加粗
- `Tab`: 缩进
